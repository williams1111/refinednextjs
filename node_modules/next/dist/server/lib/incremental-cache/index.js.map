{"version":3,"sources":["../../../../server/lib/incremental-cache/index.ts"],"names":["toRoute","pathname","replace","CacheHandler","_ctx","get","_key","set","_data","IncrementalCache","fs","dev","flushToDisk","serverDistDir","maxMemoryCacheSize","getPrerenderManifest","incrementalCacheHandlerPath","cacheHandlerMod","FileSystemCache","require","default","process","env","__NEXT_TEST_MAX_ISR_CACHE","parseInt","prerenderManifest","cacheHandler","calculateRevalidate","fromTime","Date","getTime","initialRevalidateSeconds","routes","revalidateAfter","_getPathname","normalizePagePath","entry","cacheData","curRevalidate","lastModified","now","isStale","undefined","value","notFoundRoutes","includes","data","revalidateSeconds","dataRoute","path","posix","join","srcRoute","error","console","warn"],"mappings":"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"}